# Core Learning Services
location /api/chisg/ {
    proxy_pass http://chisg-api:8082/;
    include proxy_params.conf;
}

location /api/skillsmap/ {
    proxy_pass http://skillsmap-api:8083/;
    include proxy_params.conf;
}

location /api/mindmap/ {
    proxy_pass http://mindmap-api:8084/;
    include proxy_params.conf;
}

location /api/heatmap/ {
    proxy_pass http://heatmap-api:8085/;
    include proxy_params.conf;
}

# Human Behavior Services
location /api/humanos/ {
    proxy_pass http://humanos-api:8080/;
    include proxy_params.conf;
}

location /api/behavior/lite/ {
    proxy_pass http://esp-behavior-lite:8086/;
    include proxy_params.conf;
}

location /api/behavior/plus/ {
    proxy_pass http://esp-behavior-plus:8087/;
    include proxy_params.conf;
}

# Planning Services
location /api/planning/ {
    proxy_pass http://esp-data-api:8088/;
    include proxy_params.conf;
}

location /api/seating/ {
    proxy_pass http://esp-seating:8089/;
    include proxy_params.conf;
}

# Infrastructure Services
location /api/assist/ {
    proxy_pass http://esp-assist-api:8090/;
    include proxy_params.conf;
}

location /api/pdf/ {
    proxy_pass http://pdf-rag:8091/;
    include proxy_params.conf;
}

# WebSocket support for live updates
location /ws/behavior/ {
    proxy_pass http://esp-behavior-lite:8086/ws/;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";
    include proxy_params.conf;
}

# Frontend applications
location / {
    proxy_pass http://web-display:3000;
    include proxy_params.conf;
}

location /mobile/ {
    proxy_pass http://mobile-app:3001/;
    include proxy_params.conf;
}
